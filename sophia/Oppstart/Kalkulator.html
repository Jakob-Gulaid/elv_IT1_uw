<!DOCTYPE html>
    <html lang="no">
        <head>
            <meta charset="utf-8">
            <title>Variabler og konsollen</title>
            <link rel="stylesheet" href="CSS/Kalkulator.css">
        </head>
        <body>
            <br>
            <a href="../index.html" id="idKalkulator">Tilbake</a>
            <div id="idKalkulator">
                <h1>Kalkulator</h1>
                
                <input id="idInn" type="text" placeholder="Skriv inn regnestykke">
                <p>Resultatet er <span id="idTilbake"></span></p>
            </div>

        <script>
            let innEl = document.getElementById("idInn"); //Lage en variabel
            let tilbakeEl = document.getElementById("idTilbake"); //Lage en variabel
            let operatorPos = -1;
            let tekst = "";
            innEl.focus(); //setter variabelen innEl i fokus
            innEl.addEventListener("keydown",innfunk);

            function innfunk (event){
                if(event.keyCode === 13) {
                    tekst = innEl.value; //La teksten i input v√¶re innEl
                    console.log("tekst: " + tekst);
                    operatorPos = tekst.indexOf("+");
                    if (operatorPos === -1) {
                        operatorPos = tekst.indexOf("-");
                        if (operatorPos === -1) {
                            operatorPos = tekst.indexOf("*");
                            if (operatorPos === -1) {
                                operatorPos = tekst.indexOf("/");
                            }
                        }
                    }
                    let operator = tekst.substr(operatorPos, 1);
                    let tall1 = Number(tekst.substr(0,operatorPos));
                    let tall2 = Number(tekst.substr(operatorPos+1));
                    console.log("tall1: " + tall1 + ", tall2: " + tall2 + ", operator: " + operator);
                    console.log(operator);

                    let resultat = 0;
                    if (operator === "+") {
                        resultat = tall1 + tall2;  
                    }
                    if (operator === "-") {
                        resultat = tall1 - tall2;
                    }
                    if (operator === "*") {
                        resultat = tall1 * tall2;
                    }
                    if (operator === "/") {
                        resultat = tall1 / tall2;
                    }
                    tilbakeEl.innerHTML = resultat;
                }
            }            
        </script>       
        </body>
    </html>