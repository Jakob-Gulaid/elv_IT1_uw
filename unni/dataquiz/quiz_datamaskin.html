<!DOCTYPE html>
<html lang="no">
    <head>
        <meta charset="UTF-8">
        <title>Quiz om datamaskiner</title>
        <link rel="stylesheet" href="../css/alltid.css">
        <link rel="stylesheet" href="css/dataquiz.css">
        <style>
            #idPoengDiv {
                position: fixed;
                top: 125px;
                right: 8px;
                width: 10%;
                padding: 5px;
            }
            #idLagre, #idol {
                display: none;
            }
            
            .high {
                width: 100px;
                display: inline-block;
                border: 1px solid black;
                border-radius: 5px;
                padding: 5px;
                background-color: burlywood;
            }
        </style>
    </head>
    <body>
        <div class="meny">
            <a href="index.html">Hjem</a>
        </div> 
        <div class="meny">
            <a href="quiz_datamaskin.html">Quiz</a>
        </div>
        <div class="meny">
            <a href="../index.html">Ferdig</a>
        </div>
        <h1>Velkommen<span id="idNavn"></span>! Test hva du kan om datamaskiner:</h1>
        <div id="idPoengDiv" class="clDiv">
            <h3 id="idPoeng">Poeng: 0</h3>
            <button id="idLagre">Lagre highscore?</button><br>
            <ol id="idol"></ol>
        </div>
        <div class="clDiv">
            <h2>1.</h2>
            <img src="media/bilde1.jpg" alt="Bilde av" height="200" width="267">
            <p>
                <button id="id1a">a) </button>
                <button id="id1b">b) </button>
                <button id="id1c">c) </button>
                <button id="id1d">d) </button>
            </p>
        </div>
        <div class="clDiv">
            <h2>2.</h2>
            <img src="media/bilde2a.jpg" alt="Bilde av" height="267" width="200">
            <img src="media/bilde2b.jpg" alt="Bilde av" height="200" width="267">
            <p>
                <button id="id2a">a) </button>
                <button id="id2b">b) </button>
                <button id="id2c">c) </button>
                <button id="id2d">d) </button>
            </p>
        </div>
        <div class="clDiv">
            <h2>3.</h2>
            <img src="media/bilde3.jpg" alt="Bilde av" height="267" width="200">
            <p>
                <button id="id3a">a) </button>
                <button id="id3b">b) </button>
                <button id="id3c">c) </button>
                <button id="id3d">d) </button>
            </p>
        </div>
        <div class="clDiv">
            <h2>4.</h2>
            <img src="media/bilde4.jpg" alt="Bilde av" height="267" width="200">
            <p>
                <button id="id4a">a) </button>
                <button id="id4b">b) </button>
                <button id="id4c">c) </button>
                <button id="id4d">d) </button>
            </p>
        </div>
    <script src='js/funksjonsbibliotek.js'></script>  
    <script>
        let knapp1aEl = document.getElementById("id1a");
        let knapp1bEl = document.getElementById("id1b");
        let knapp1cEl = document.getElementById("id1c");
        let knapp1dEl = document.getElementById("id1d");
        
        let knapp2aEl = document.getElementById("id2a");
        let knapp2bEl = document.getElementById("id2b");
        let knapp2cEl = document.getElementById("id2c");
        let knapp2dEl = document.getElementById("id2d");
        
        let knapp3aEl = document.getElementById("id3a");
        let knapp3bEl = document.getElementById("id3b");
        let knapp3cEl = document.getElementById("id3c");
        let knapp3dEl = document.getElementById("id3d");
        
        let knapp4aEl = document.getElementById("id4a");
        let knapp4bEl = document.getElementById("id4b");        
        let knapp4cEl = document.getElementById("id4c");        
        let knapp4dEl = document.getElementById("id4d");

        let poengDivEl = document.getElementById("idPoengDiv");
        let poengEl = document.getElementById("idPoeng");
        let lagreEl = document.getElementById("idLagre");
        let idolEl = document.getElementById("idol");

        let navnEl = document.getElementById("idNavn");

        let poeng=0;

        knapp1aEl.addEventListener("click",riktig1a);
        knapp1bEl.addEventListener("click",feil1b);
        knapp1cEl.addEventListener("click",feil1c);
        knapp1dEl.addEventListener("click",feil1d);
        
        knapp2aEl.addEventListener("click",riktig2a);
        knapp2bEl.addEventListener("click",feil2b);
        knapp2cEl.addEventListener("click",feil2c);
        knapp2dEl.addEventListener("click",feil2d);
        
        knapp3aEl.addEventListener("click",riktig3a);
        knapp3bEl.addEventListener("click",feil3b);
        knapp3cEl.addEventListener("click",feil3c);
        knapp3dEl.addEventListener("click",feil3d);
        
        knapp4aEl.addEventListener("click",riktig4a);
        knapp4bEl.addEventListener("click",feil4b);
        knapp4cEl.addEventListener("click",feil4c);
        knapp4dEl.addEventListener("click",feil4d);

        lagreEl.addEventListener("click",highscorefunk);

        
        if (localStorage.getItem("lagretNavnForQuiz1") !== null) {
            navnEl.innerHTML = " " + localStorage.getItem("lagretNavnForQuiz1");
        }
        
        function riktig1a() {
            knapp1aEl.innerHTML = "Riktig";
            poeng ++;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp1aEl.style.backgroundColor = "forestgreen";
            knapp1aEl.removeEventListener("click",riktig1a);
            knapp1bEl.removeEventListener("click",feil1b);
            knapp1cEl.removeEventListener("click",feil1c);
            knapp1dEl.removeEventListener("click",feil1d);
        }

        function feil1b() {
            knapp1bEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp1bEl.style.backgroundColor = "tomato";
            knapp1aEl.removeEventListener("click",riktig1a);
            knapp1bEl.removeEventListener("click",feil1b);
            knapp1cEl.removeEventListener("click",feil1c);
            knapp1dEl.removeEventListener("click",feil1d);
        }

        function feil1c() {
            knapp1cEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp1cEl.style.backgroundColor = "tomato";
            knapp1aEl.removeEventListener("click",riktig1a);
            knapp1bEl.removeEventListener("click",feil1b);
            knapp1cEl.removeEventListener("click",feil1c);
            knapp1dEl.removeEventListener("click",feil1d);
        }

        function feil1d() {
            knapp1dEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp1dEl.style.backgroundColor = "tomato";
            knapp1aEl.removeEventListener("click",riktig1a);
            knapp1bEl.removeEventListener("click",feil1b);
            knapp1cEl.removeEventListener("click",feil1c);
            knapp1dEl.removeEventListener("click",feil1d);
        }


        function riktig2a() {
            knapp2aEl.innerHTML = "Riktig";
            poeng ++;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp2aEl.style.backgroundColor = "forestgreen";
            knapp2aEl.removeEventListener("click",riktig2a);
            knapp2bEl.removeEventListener("click",feil2b);
            knapp2cEl.removeEventListener("click",feil2c);
            knapp2dEl.removeEventListener("click",feil2d);
        }

        function feil2b() {
            knapp2bEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp2bEl.style.backgroundColor = "tomato";
            knapp2aEl.removeEventListener("click",riktig2a);
            knapp2bEl.removeEventListener("click",feil2b);
            knapp2cEl.removeEventListener("click",feil2c);
            knapp2dEl.removeEventListener("click",feil2d);
        }

        function feil2c() {
            knapp2cEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp2cEl.style.backgroundColor = "tomato";
            knapp2aEl.removeEventListener("click",riktig2a);
            knapp2bEl.removeEventListener("click",feil2b);
            knapp2cEl.removeEventListener("click",feil2c);
            knapp2dEl.removeEventListener("click",feil2d);
        }

        function feil2d() {
            knapp2dEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp2dEl.style.backgroundColor = "tomato";
            knapp2aEl.removeEventListener("click",riktig2a);
            knapp2bEl.removeEventListener("click",feil2b);
            knapp2cEl.removeEventListener("click",feil2c);
            knapp2dEl.removeEventListener("click",feil2d);
        }


        function riktig3a() {
            knapp3aEl.innerHTML = "Riktig";
            poeng ++;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp3aEl.style.backgroundColor = "forestgreen";
            knapp3aEl.removeEventListener("click",riktig3a);
            knapp3bEl.removeEventListener("click",feil3b);
            knapp3cEl.removeEventListener("click",feil3c);
            knapp3dEl.removeEventListener("click",feil3d);
        }

        function feil3b() {
            knapp3bEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp3bEl.style.backgroundColor = "tomato";
            knapp3aEl.removeEventListener("click",riktig3a);
            knapp3bEl.removeEventListener("click",feil3b);
            knapp3cEl.removeEventListener("click",feil3c);
            knapp3dEl.removeEventListener("click",feil3d);
        }

        function feil3c() {
            knapp3cEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp3cEl.style.backgroundColor = "tomato";
            knapp3aEl.removeEventListener("click",riktig3a);
            knapp3bEl.removeEventListener("click",feil3b);
            knapp3cEl.removeEventListener("click",feil3c);
            knapp3dEl.removeEventListener("click",feil3d);
        }

        function feil3d() {
            knapp3dEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp3dEl.style.backgroundColor = "tomato";
            knapp3aEl.removeEventListener("click",riktig3a);
            knapp3bEl.removeEventListener("click",feil3b);
            knapp3cEl.removeEventListener("click",feil3c);
            knapp3dEl.removeEventListener("click",feil3d);
        }


        function riktig4a() {
            knapp4aEl.innerHTML = "Riktig";
            poeng ++;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp4aEl.style.backgroundColor = "forestgreen";
            knapp4aEl.removeEventListener("click",riktig4a);
            knapp4bEl.removeEventListener("click",feil4b);
            knapp4cEl.removeEventListener("click",feil4c);
            knapp4dEl.removeEventListener("click",feil4d);
            lagreEl.style.display = "inline-block";
            idolEl.style.display = "inline-block";
        }

        function feil4b() {
            knapp4bEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp4bEl.style.backgroundColor = "tomato";
            knapp4aEl.removeEventListener("click",riktig4a);
            knapp4bEl.removeEventListener("click",feil4b);
            knapp4cEl.removeEventListener("click",feil4c);
            knapp4dEl.removeEventListener("click",feil4d);
            lagreEl.style.display = "inline-block";
            idolEl.style.display = "inline-block";
        }

        function feil4c() {
            knapp4cEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp4cEl.style.backgroundColor = "tomato";
            knapp4aEl.removeEventListener("click",riktig4a);
            knapp4bEl.removeEventListener("click",feil4b);
            knapp4cEl.removeEventListener("click",feil4c);
            knapp4dEl.removeEventListener("click",feil4d);
            lagreEl.style.display = "inline-block";
            idolEl.style.display = "inline-block";
        }

        function feil4d() {
            knapp4dEl.innerHTML = "Feil";
            poeng --;
            poengEl.innerHTML = "Poeng: " + poeng;
            knapp4dEl.style.backgroundColor = "tomato";
            knapp4aEl.removeEventListener("click",riktig4a);
            knapp4bEl.removeEventListener("click",feil4b);
            knapp4cEl.removeEventListener("click",feil4c);
            knapp4dEl.removeEventListener("click",feil4d);
            lagreEl.style.display = "inline-block";
            idolEl.style.display = "inline-block";
        }

        function highscorefunk() {
            let navn = "";
            let navneliste = [];
            let poengliste = [];
            let htmltekst = "";

            if (localStorage.getItem("lagretNavnForQuiz1") !== null) {
                navn = localStorage.getItem("lagretNavnForQuiz1");
            }
            
            if (localStorage.getItem("lagretHighScoreForQuiz1") === null) {
                navneliste.push(navn);
                poengliste.push(poeng);
                let resultat = [poengliste,navneliste];
                localStorage.setItem("lagretHighScoreForQuiz1",JSON.stringify(resultat)); 
            }
            else {
                let resultat = JSON.parse(localStorage.getItem("lagretHighScoreForQuiz1"));
                poengliste = resultat[0];
                navneliste = resultat[1];
                poengliste.push(poeng);
                navneliste.push(navn);
                resultat = sorterToArrays(poengliste,navneliste);
                poengliste = resultat[0];
                navneliste = resultat[1];
                localStorage.setItem("lagretHighScoreForQuiz1",JSON.stringify(resultat)); 
            }

            let i = 0;

            while (i < navneliste.length && i < 5) {
                htmltekst += "<li><span class='high'>" + navneliste[i] + "</span>:<span class='high'>" + poengliste[i] + "</span></li>";

                i++;
            }

            idolEl.innerHTML = htmltekst;

            poengDivEl.style.zIndex = 1;
            poengDivEl.style.rigth = "8px";
            poengDivEl.style.left = "8px";
            poengDivEl.style.width = "60%";
            poengDivEl.style.backgroundColor = "#ce954b";
        }
    </script>
    </body>
</html>
