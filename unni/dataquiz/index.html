<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Unnis nettside</title>
    <link rel="stylesheet" href="../css/alltid.css">
    <link rel="stylesheet" href="css/dataquiz.css">
    <style>
        #idQuiz, #idLink {
            display: none;
        }
        
        #idAvsluttCookies {
            position: fixed;
            bottom: 0;
            right: 0;
        }
    </style>
</head>
<body>
        <div class="meny">
            <a href="index.html">Hjem</a>
        </div> 
        <div class="meny">
            <a href="quiz_datamaskin.html">Quiz</a>
        </div>
        <div class="meny">
            <a href="../index.html">Ferdig</a>
        </div>
    <h1>Velkommen til Datamaskinens Verden</h1>
    <div id="idCookies" class="clDiv">
        <h2>Cookies</h2>
        <p>Dette nettstedet vil lagre informasjon p√• datamaskinen din, og hente den fram igjen.</p>
        <p>Informasjonen som lagres er valgene du tar her og det du selv skriver inn.</p>
        <p>Er det ok?</p>
        <p><button id="idOK">OK</button><span id="idLock">&#128274</span></p>    
    </div>
    <div id="idQuiz" class="clDiv">
        <h2>Velkommen inn!</h2>
        <p><input id="idNavn" type="text" placeholder="Skriv navnet ditt her"> Avslutt med Enter-tasten</p>
        <h3 id="idLink"><span id="idHei"></span><a href="quiz_datamaskin.html">Her er det en quiz om datamaskiner</a></h3>
    </div>
    <div id="idAvsluttCookies">
        <button>Avslutt alle cookies!</button>
    </div>
    <script>
        let cookieEl = document.getElementById("idCookies");
        let okEl = document.getElementById("idOK");
        let lockEl = document.getElementById("idLock");
        let quizEl = document.getElementById("idQuiz");
        let navnEl = document.getElementById("idNavn");
        let linkEl = document.getElementById("idLink");
        let heiEl = document.getElementById("idHei");
        let avsluttCookiesEl = document.getElementById("idAvsluttCookies")

        okEl.addEventListener("click",okfunk);
        navnEl.addEventListener("keydown",lagrefunk);
        avsluttCookiesEl.addEventListener("click",avsluttfunk)

        if (localStorage.getItem("cookiesGodkjentForIndex1") === "Ja") {
            cookieEl.style.display = "none";
            quizEl.style.display = "block";
        }

        function okfunk() {
            quizEl.style.display = "block";
            lockEl.innerHTML = "&#128275";
            localStorage.setItem("cookiesGodkjentForIndex1","Ja");
        }

        function lagrefunk(event) {
            //console.log(event.keyCode);
            //console.log(navnEl.value);
            if (event.keyCode === 13) {
                localStorage.setItem("lagretNavnForQuiz1",navnEl.value);
                heiEl.innerHTML = "Hei " + navnEl.value + "!<br>";
                navnEl.value = "";
                linkEl.style.display = "inline";
            }
        }

        function avsluttfunk() {
            localStorage.removeItem("cookiesGodkjentForIndex1");
            localStorage.removeItem("lagretNavnForQuiz1");
            cookieEl.style.display = "block";
            quizEl.style.display = "none";
            linkEl.style.display = "none";
            heiEl.innerHTML = "";
            lockEl.innerHTML = "&#128274";
        }
    </script>
</body>
</html>