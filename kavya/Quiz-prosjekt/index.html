<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="utf-8">
    <title>Kavyas nettside</title>
    <link rel="stylesheet" href="css/alltid.css">
    <link rel="stylesheet" href="css/oppstart.css">
    <style>
        .dropbtn {
        background-color: #984caf;
        color: white;
        padding: 8px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        }
        .dropbtn:hover, .dropbtn:focus {
        background-color: #984caf;
        }
        .dropdown {
        position: relative;
        display: inline-block;
        }
        .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        overflow: auto;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        }
        .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        }
        .dropdown-content a:hover {background-color: #f1f1f1}
        .show {display:block;}

        #idQuiz, #idLink {
            display: none;
        }
        
        #idAvsluttCookies {
            position: fixed;
            top: 0;
            right: 0;
        }
    </style>
</head>
<body>   
    <h1>Velkommen til Kavya's nettsted!&#128040</h1>
    <div class="dropdown">
    <button id="minKnapp" class="dropbtn">Meny</button>
    <div id="myDropdown" class="dropdown-content">
        <a href="../Kavyasprosjekter.html">Oversikt</a>
        <a href="quiz_datamaskin.html">Quiz</a>
    </div>
    </div>

   
    <div id="idCookies" class="clDiv">
        <h2>Cookies</h2>
        <p>Dette nettstedet lagrer informasjon på datamaskinen din, og henter den fram igjen.</p>
        <p>Informasjonen som lagres er det du selv skriver inn.</p>
        <p>Tillater du dette &#10068</p>
        <p><button id="idOK">JA</button><span id="idLock">&#10069</span></p>    
    </div>
    <div id="idQuiz" class="clDiv">
        <h2>Wiiii, så fint at du er inne!</h2>
        <p><input id="idNavn" type="text" placeholder="Skriv navnet ditt her"> Avslutt med Enter-tasten &#10083 </p>
        <h3 id="idLink"><span id="idHei"></span><a href="quiz_datamaskin.html">Ta denne quizen om datamaskiner</a></h3>
    </div>
    <div id="idAvsluttCookies">
        <button>Avslutt alle cookies!</button>
    </div>
    <script>
        document.getElementById("minKnapp").onclick = function() {myFunction()};

        function myFunction() {
            document.getElementById("myDropdown").classList.toggle("show");
        }
        
        let cookieEl = document.getElementById("idCookies");
        let okEl = document.getElementById("idOK");
        let lockEl = document.getElementById("idLock");
        let quizEl = document.getElementById("idQuiz");
        let navnEl = document.getElementById("idNavn");
        let linkEl = document.getElementById("idLink");
        let heiEl = document.getElementById("idHei");
        let avsluttCookiesEl = document.getElementById("idAvsluttCookies")

        okEl.addEventListener("click",okfunk);
        navnEl.addEventListener("keydown",lagrefunk);
        avsluttCookiesEl.addEventListener("click",avsluttfunk)

        if (localStorage.getItem("cookiesGodkjentForIndex1") === "Ja") {
            cookieEl.style.display = "block";
            quizEl.style.display = "none";
        }

        function okfunk() {
            quizEl.style.display = "block";
            lockEl.innerHTML = "&#10084";
            localStorage.setItem("cookiesGodkjentForIndex1","Ja");
        }

        function lagrefunk(event) {
            //console.log(event.keyCode);
            //console.log(navnEl.value);
            if (event.keyCode === 13) {
                localStorage.setItem("LagretNavnForQuiz1",navnEl.value);
                heiEl.innerHTML = "Hei " + navnEl.value + "&#128024<br>";
                navnEl.value = "";
                linkEl.style.display = "inline";
            }
        }

        function avsluttfunk() {
            localStorage.removeItem("cookiesGodkjentForIndex1");
            localStorage.removeItem("lagretNavnForQuiz1");
            cookieEl.style.display = "block";
            quizEl.style.display = "none";
            linkEl.style.display = "none";
            heiEl.innerHTML = "";
            lockEl.innerHTML = "&#128274";
        }
    </script>
</body>
</html>
